(this.webpackJsonpcaesar=this.webpackJsonpcaesar||[]).push([[0],{116:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACFklEQVRYCa2XO0scURiGVZSoRMFG0aBFNI0XUFRQMOwgiliJaJH/YKe2FhJsbVT8C4KNnY2NlWUgFmIhm9gpmqDg/ZI8rzgw6zhnzpk9Hzy7M9/t/WZ2LmdLS9yskvQcDEE7NEEV3MMxfINH8G5f6LgOF/DvHZ7wLYJ3q6HjCjzAe8LyXcI4eLdeOuYhSVh+DTYG3k1HdA0mccVmvSvTMIBbSBPfJ6ccvFoL3c4hTVzxKa/Kr812LMX/kvfB9wCTluI6+g1f4mWRRguR7bTNg7QE23g4wCAFPbZF5P1yyDWmhgNMG7PiQW9XfzjAcFzD6NET0otpAF3NnY7duh3zjemtRG3u+2jOkbGjQ1BnoM4hP0z9zMbXcKeYbw1QmrHBfMa6WFkbnujptd1+pm4k1i2DQ6sc0/veNNAxtY0ZNGMlP/GYhEyxH9TWxzo6OpaLGEDD6a7od9QsSB9gz3SUNjH9jGugV3qaKWcJGqJ3gE6ljwfME312Qa92/bRnoJVyA3TBKARwBQXDTuCwOVJfOd/Ri9k2Hl8Cpj6/0fkYU8fRDKdgKi42pmslgEQLiNxAsUJJ9TOJypGAluW6SJKaZPHryTkX0Ujd7CMjD1nE3tboL53roudlwFo+V0B/Pt82td3forbgdmPf2fTndBX+gI3wHXmboLWm0aIPImPia7CC7xxoLdABn6AaJHgCh7AHegjptKfafyRiblfXz8FZAAAAAElFTkSuQmCC"},117:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADFUlEQVRYCb2Wy2sTURTGk0mCD2jAvIqv0BS6sRZb1IVgafEBCooootKNC0G6U6TgquBCXbqy2/4B2oKKWAtZ6MZsBEEEkSwiVUKe9RmpNQ9/N3TCJJm5czNNOzDce8/5zne+OXPunXG7OrhSqdRWv98/VqvVjhK2r1qt7nK73duYrzIuBYPBK4zlDihdXhVwLpcbgPgW2AmS+vUYbPq0iqiFTpOL4AaDzmQc8/l8D8T3IZ7EbiX2F5jLkUhkwRirOrcUQPKDJJ6DvE9CVtY07QylX5RgpC7Tp6Lkp4maJ7l4v7Lr9nqSC+K2CvDk49hfcm/htryozgeSjzh570ZSzbhIp9NR1vPc0uQiplKp3FlvcsHTJMDn881iCwiHzfWdpntug1FyNwQUCoXzRBxXinK5Fnn6v4pYKawhgIabliKbnR+bl85XdQHZbPYIFCOqNDz9Z1WsHa4ugL180Q5o9CPAdPsaMapz/RUcUw0QOI7jnk7wMqyWTCbFltsvA7X6qMBwq83pWuPrtofgjkpKw446Tdgax+vXdrQaFdb9HNddEaFRzrbjWEGAi7ApFZwdRqOhvtmBLPxn2b4nLHzKZq1UKn0F3dFfzBq7m9c3y8drp3I2E6AWi8VWaCqnJ9teOF9kMpmICbeSqX4OICCuhDYHDXs8ngTfksPmbrm1LsDr9T6Sw2y9/SDesDNm1j7p0oDl5eUo2Hv0UG9jB2B416UDpkL213DFqex7/hsKVKjMvJeeGWI8iX+cu4Q92hBACc/hfIJjUy4E3g2FQtMNASIrHS3+bE9tgoIlHnaQn5rf9R7QE1Ki60KHvt6gUWz5qyK54G8SwE/mF2yXULcinBtxUfqb4XD4lc7dJEAYhZNdcQERf3RQl8YaPFO89xkjX1MPGB30wyFEPEZxn9HucP4TrmuUfa41vq0COoBKvGWbHEDAQ+5/ut3B+BSeIbPkgsuyAsZEnBEDrG/QpBM8icrnexXcMxI/oK8SRq7WuZIAPQhSX7FYHGMcpSqDfEl349vOXPyiZ7k/ITLBOh4IBH7ocbLxP+Ib/TPI/n1KAAAAAElFTkSuQmCC"},131:function(e,t,n){e.exports=n(171)},143:function(e,t){},145:function(e,t){},168:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a,c,i,r,o,s,d,l,u,b=n(58),A=n.n(b),p=n(73),g=n(32),j=n(1),f=n.n(j),O=n(16),m=n(47),h=n(27),v=n.n(h),k=n(211),y=n(204),C=n(196),x=n(85),w=n(118),E=n(199),D=n(200),I=n(107),B=n(105),F=n.n(B),S=Object(w.a)({uri:"https://moodtracker-cosmos-backend.azurewebsites.net/graphql",fetchOptions:{agent:new F.a.Agent({rejectUnauthorized:!1})}}),T=Object(I.a)((function(e,t){var n=t.headers,a=localStorage.getItem("token");return{headers:Object(x.a)(Object(x.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),N=new E.a({link:T.concat(S),cache:new D.a}),R=n(4),U=n(193),K=n(208),M=n(210),Q=n(194),z=n(195),q=n(205),G=n(201),P=n(69),W=P.c,L=Object(U.a)((function(e){return Object(K.a)({root:{flexGrow:1},inputRoot:{color:"inherit"},userInformation:{display:"flex"},flexEnd:{justifyContent:"space-between",alignItems:"center",display:"flex"},toolBar:{justifyContent:"space-between",alignItems:"center",display:"flex"}})})),X=function(e){var t=W((function(e){return e.darkMode.value})),n=L(),a=Object(R.b)({display:"flex",flexGrow:1,marginRight:"200px",color:t?"rgba(255, 255, 255, 0.88)":"rgba(70, 70, 70, 0.87)"}),c=Object(R.b)({color:t?"rgba(255, 255, 255, 0.88)":"rgba(70, 70, 70, 0.87)"}),i=Object(R.b)({backgroundColor:"transparent",boxShadow:t?"0 4px 2px -2px #444":"0 4px 2px -2px #ddd",minHeight:"60px",height:"7vh",justifyContent:"center"});return Object(R.c)("div",{className:n.root},Object(R.c)(M.a,{css:i,position:"static"},Object(R.c)(Q.a,{className:n.toolBar},Object(R.c)(m.b,{to:"/home"},Object(R.c)(z.a,{css:a,variant:"h5",noWrap:!0},"Moodiful")),null==e.user?Object(R.c)(G.a,{css:c,href:"https://github.com/login/oauth/authorize?client_id=".concat("9c00f9b1edf177359d2d","&scope=user")},"Login"):Object(R.c)("div",{className:n.userInformation},Object(R.c)(m.b,{to:"/home",color:"inherit"},Object(R.c)(q.a,{alt:"user-avatar"}))))))},H=n(31),J=n(202),Y=Object(J.a)(a||(a=Object(H.a)(["\n  fragment userFields on User {\n    id\n    name\n    gitHub\n    imageURI\n  }\n"]))),V=Object(J.a)(c||(c=Object(H.a)(["\n  fragment dailyFields on Daily {\n    id\n    description\n    dateCreated\n  }\n"]))),Z=(Object(J.a)(i||(i=Object(H.a)(["\n  query Dailies {\n    dailies {\n      ...dailyFields\n      user {\n        ...userFields\n      }\n    }\n  }\n  ","\n  ","\n"])),V,Y),Object(J.a)(r||(r=Object(H.a)(["\n  query DailiesByUserId($id: String!) {\n    dailiesByUserId(id: $id) {\n      ...dailyFields\n      user {\n        ...userFields\n      }\n    }\n  }\n  ","\n  ","\n"])),V,Y)),$=(Object(J.a)(o||(o=Object(H.a)(["\n  query Users {\n    users {\n      ...userFields\n    }\n  }\n  ","\n"])),Y),Object(J.a)(s||(s=Object(H.a)(["\n  query Self {\n    self {\n      ...userFields\n    }\n  }\n  ","\n"])),Y)),_=(n(168),n(169),n(197)),ee=n(80),te=n.n(ee),ne=n(81),ae=n.n(ne),ce=function(e){var t,n,a,c=W((function(e){return e.darkMode.value})),i=Object(y.a)($).data,r=Object(R.b)({backgroundImage:"url(".concat(c?te.a:ae.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"93vh",width:"100vw",transition:"background 0.2s ease-in-out"}),o=Object(R.b)({display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",height:"80vh",flexDirection:"column"}),s=Object(R.b)({background:c?"linear-gradient(130deg, rgba(255, 255, 255, 0.5) 0%, #fff 50%)":"linear-gradient(130deg, rgba(0,0,0,0.2), rgba(0,0,0,1.0) 100%)",backgroundClip:"text",WebkitTextFillColor:"transparent",width:"0",overflow:"hidden",whiteSpace:"nowrap",animation:"typing 1s steps(90, end)",animationFillMode:"forwards"}),d=Object(R.b)({maxWidth:"70vw",padding:"20px 10px",position:"absolute",bottom:"10vh",borderRadius:"10px",color:c?"rgba(200, 200, 200, 0.88)":"rgba(100, 100, 100, 0.7)",background:c?"rgba(50,50,50,0.8)":"rgba(250,250,250,0.8)","@media (max-width: 600px), (max-height: 700px)":{display:"none"}});return Object(R.c)("div",{css:r},Object(R.c)("div",{css:o},Object(R.c)("h1",{css:s},"WELCOME ",null!==(t=null===i||void 0===i||null===(n=i.self)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toUpperCase())&&void 0!==t?t:""),Object(R.c)(m.b,{to:"/Thoughts"},Object(R.c)("h3",null,"Ready to record your daily review?")),Object(R.c)("p",{css:d},'"',e.quote.toUpperCase(),'" - ',e.author.toUpperCase())))},ie=function(){var e=new Date(Date.now()),t=e.getDate().toString();return 1===t.length&&(t="0"+t),t+"."+(e.getMonth()+1)+"."+e.getFullYear()},re=n(39),oe=n(198),se=Object(J.a)(d||(d=Object(H.a)(["\n  mutation Login($code: String!) {\n    login(input: { code: $code }) {\n      user {\n        ...userFields\n      }\n      jwt\n    }\n  }\n  ","\n"])),Y),de=Object(J.a)(l||(l=Object(H.a)(["\n  mutation AddDaily($description: String!) {\n    addDaily(input: { description: $description }) {\n      ...dailyFields\n    }\n  }\n  ","\n"])),V),le=Object(J.a)(u||(u=Object(H.a)(["\n  mutation EditDaily($id: String!, $description: String!) {\n    editDaily(input: { id: $id, description: $description }) {\n      ...dailyFields\n    }\n  }\n  ","\n"])),V),ue=Object(U.a)((function(e){var t,n,a;return Object(K.a)({topBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},textArea:(t={display:"grid"},Object(re.a)(t,e.breakpoints.down("md"),{gridTemplateColumns:"1fr"}),Object(re.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"0.3fr 1fr"}),Object(re.a)(t,"columnGap","20px"),Object(re.a)(t,"justifyContent","space-evenly"),t),shortDate:(n={},Object(re.a)(n,e.breakpoints.up("sm"),{display:"none"}),Object(re.a)(n,e.breakpoints.down("sm"),{display:"block"}),n),longDate:(a={},Object(re.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(re.a)(a,e.breakpoints.down("sm"),{display:"none"}),a),button:{padding:"10px",border:"none",backgroundColor:"transparent",shadow:"none",color:"inherit",font:"inherit",cursor:"pointer"},textField:{display:"inline",width:"100%",wordBreak:"break-word"}})})),be=function(e){var t,n,a=W((function(e){return e.darkMode.value})),c=Object(j.useState)(!1),i=Object(g.a)(c,2),r=i[0],o=i[1],s=Object(j.useState)(e.description),d=Object(g.a)(s,2),l=d[0],u=d[1],b=Object(k.a)(le),f=Object(g.a)(b,1)[0],O=Object(k.a)(de),m=Object(g.a)(O,1)[0],h=Object(j.useRef)(null),v=ue(),y=Object(R.b)({background:a?"rgba(50,50,50,0.8)":"rgba(250,250,250,0.8)",borderRadius:"10px",minWidth:"100%",maxWidth:"100%",minHeight:"200px",padding:"0px 20px",marginTop:"20px"}),C=Object(R.b)({color:a?"rgba(200, 200, 200, 0.88)":"rgba(100, 100, 100, 0.7)"});Object(j.useEffect)((function(){e.isEditing&&o(!0)}),[e.isEditing]);var x=function(){var t=Object(p.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==l&&l!==e.description){t.next=3;break}return o(!1),t.abrupt("return");case 3:if(!e.isToday||void 0!==e.description){t.next=7;break}return m({variables:{description:l}}).then((function(){e.didSubmit&&e.didSubmit()})).catch((function(e){console.log(e)})),o(!1),t.abrupt("return");case 7:try{f({variables:{id:e.id,description:l}}),console.log("submitting")}catch(n){console.log(n)}o(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(R.c)("div",{css:y},Object(R.c)("div",{className:v.topBar},Object(R.c)("h3",{className:v.longDate},function(e){var t=e.split("."),n=["January","February","March","April","May","June","July","August","September","October","November","December"][Number.parseInt(t[1])-1];return t[0]+" "+n+" "+t[2]}(null!==(t=e.dateCreated)&&void 0!==t?t:ie())),Object(R.c)("h3",{className:v.shortDate},null!==(n=e.dateCreated)&&void 0!==n?n:ie()),r?Object(R.c)("button",{className:v.button,onClick:function(){return x()}},"Submit"):Object(R.c)("button",{className:v.button,onClick:function(){o((function(e){return!e}))}},"Edit")),Object(R.c)("div",{className:v.textArea},Object(R.c)(oe.a,{css:C,display:{xs:"none",sm:"none",md:"block"}},"description"),r?Object(R.c)("form",null,Object(R.c)("span",{role:"textbox",contentEditable:!0,ref:h,suppressContentEditableWarning:!0,className:v.textField,onInput:function(e){var t;return u(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:"")}},e.description)):Object(R.c)("div",null,l)))},Ae=Object(U.a)((function(){return Object(K.a)({root:{display:"grid",gridColumn:"1",alignItems:"center",justifyContent:"center",rowGap:"20px",gridTemplateColumns:"50%"},todayGrid:{marginTop:"20px"}})})),pe=function(e){var t=Object(j.useState)(!1),n=Object(g.a)(t,2),a=n[0],c=n[1],i=Object(j.useState)([]),r=Object(g.a)(i,2),o=r[0],s=r[1],d=Ae();return Object(j.useEffect)((function(){if(void 0!==e.dailies&&null!==e.dailies.dailiesByUserId&&0!==e.dailies.dailiesByUserId.length){var t=function(e){var t=e.slice();return t.sort((function(e,t){return null===e||null===t?0:e.dateCreated.slice(6,10)>t.dateCreated.slice(6,10)?-1:e.dateCreated.slice(6,10)<t.dateCreated.slice(6,10)?1:e.dateCreated.slice(3,5)>t.dateCreated.slice(3,5)?-1:e.dateCreated.slice(3,5)<t.dateCreated.slice(3,5)?1:e.dateCreated.slice(0,2)>t.dateCreated.slice(0,2)?-1:e.dateCreated.slice(0,2)<t.dateCreated.slice(0,2)?1:0})),t}(e.dailies.dailiesByUserId);(function(e){var t=e.split("."),n=new Date(Date.now());return Number.parseInt(t[0])===n.getDate()})(t[0].dateCreated)&&c(!0);var n=[];t.forEach((function(e){n=n.concat(f.a.createElement(be,{key:e.id,id:e.id,description:e.description,dateCreated:e.dateCreated}))})),s(n)}}),[e.dailies]),f.a.createElement("div",{className:d.root},a?f.a.createElement("div",null):f.a.createElement("div",{className:d.todayGrid},f.a.createElement(be,{isToday:!0,isEditing:!0,didSubmit:function(){e.refetchData()}})),o)},ge=n(116),je=n.n(ge),fe=n(117),Oe=n.n(fe),me=n(57),he=Object(me.b)({name:"darkMode",initialState:{value:!0},reducers:{toggle:function(e){e.value=!e.value},setDarkTrue:function(e){e.value=!0},setDarkFalse:function(e){e.value=!1}}}),ve=he.actions,ke=ve.toggle,ye=(ve.setDarkTrue,ve.setDarkFalse,he.reducer),Ce=Object(me.b)({name:"writtenToday",initialState:{value:!1},reducers:{setTrue:function(e){e.value=!0},setFalse:function(e){e.value=!1}}}),xe=Ce.actions,we=(xe.setTrue,xe.setFalse,Ce.reducer),Ee=Object(me.a)({reducer:{darkMode:ye,writtenToday:we}}),De=function(){var e=W((function(e){return e.darkMode.value})),t=Object(R.b)({backgroundImage:"url(".concat(e?te.a:ae.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"93vh",width:"100vw",transition:"background 0.2s ease-in-out"}),n=Object(R.b)({display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",height:"80vh",flexDirection:"column"}),a=Object(R.b)({background:e?"linear-gradient(130deg, rgba(255, 255, 255, 0.5) 0%, #fff 50%)":"linear-gradient(130deg, rgba(0,0,0,0.2), rgba(0,0,0,1.0) 100%)",backgroundClip:"text",WebkitTextFillColor:"transparent",width:"0",overflow:"hidden",whiteSpace:"nowrap",animation:"typing 1s steps(90, end)",animationFillMode:"forwards"});return Object(R.c)("div",{css:t},Object(R.c)("div",{css:n},Object(R.c)("h1",{css:a},"LOADING")))},Ie=n(207),Be=n(203);v.a.render(Object(R.c)(P.a,{store:Ee},Object(R.c)(m.a,null,Object(R.c)(C.a,{client:N},Object(R.c)(f.a.StrictMode,null,Object(R.c)((function(){var e,t,n=Object(j.useState)(void 0),a=Object(g.a)(n,2),c=a[0],i=a[1],r=W((function(e){return e.darkMode.value})),o=Object(P.b)(),s=new URLSearchParams(Object(O.g)().search),d=Object(k.a)(se),l=Object(g.a)(d,1)[0],u=Object(j.useState)(""),b=Object(g.a)(u,2),f=b[0],m=b[1],h=Object(O.g)(),v=Object(y.a)(Z,{variables:{id:f}}),C=(v.loading,v.error,v.data),x=v.refetch,w=Object(y.a)($),E=w.loading,D=(w.error,w.data);Object(j.useEffect)((function(){(function(){var e=Object(p.a)(A.a.mark((function e(){var t,n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=s.get("code"))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,l({variables:{code:t}});case 6:if(n=e.sent,null!=(a=n.data)){e.next=10;break}return e.abrupt("return");case 10:localStorage.setItem("token",a.login?a.login.jwt:""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.useEffect)((function(){m(D?D.self.id:"")}),[D]),Object(j.useEffect)((function(){x()}),[f]),Object(j.useEffect)((function(){fetch("https://moodtracker-cosmos-backend.azurewebsites.net/api/GetQuote").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){console.log("err",e)}))}),[]);var I=Object(R.b)({position:"absolute",right:"30px",top:"90px"});return Object(R.c)("div",null,Object(R.c)(R.a,{styles:{body:{backgroundColor:r?"#121212":"#f0f0f0",transition:"background 0.5s",color:r?"rgba(255, 255, 255, 0.88)":"rgba(70, 70, 70, 0.87)"}}}),Object(R.c)(_.a.div,{initial:"pageInitial",animate:"pageAnimate",variants:{pageInitial:{opacity:0},pageAnimate:{opacity:1}}},Object(R.c)(X,{user:null===D||void 0===D?void 0:D.self}),Object(R.c)("div",{css:I,onClick:function(){o(ke())}},Object(R.c)("img",{src:r?Oe.a:je.a,alt:"dark mode toggle"})),Object(R.c)("div",{style:{display:E?"block":"none"}},Object(R.c)(De,null)),Object(R.c)("div",{style:{display:E?"none":"block"}},Object(R.c)(Ie.a,null,Object(R.c)(Be.a,{key:h.key,classNames:"fade",timeout:300},Object(R.c)(O.d,{location:h},Object(R.c)(O.b,{exact:!0,path:"/"},Object(R.c)(O.a,{to:"/home"})),Object(R.c)(O.b,{path:"/home",children:Object(R.c)(ce,{quote:null!==(e=null===c||void 0===c?void 0:c.quoteText)&&void 0!==e?e:"",author:null!==(t=null===c||void 0===c?void 0:c.quoteAuthor)&&void 0!==t?t:""})}),Object(R.c)(O.b,{path:"/thoughts",children:Object(R.c)(pe,{dailies:C,refetchData:function(){x()}})})))))))}),null))))),document.getElementById("root"))},80:function(e,t,n){e.exports=n.p+"static/media/backgroundDark.923a122e.jpg"},81:function(e,t,n){e.exports=n.p+"static/media/backgroundLight.f0ff2978.jpg"}},[[131,1,2]]]);
//# sourceMappingURL=main.6e778670.chunk.js.map